<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crack Total - Quien Sabe Más (1v1)</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="description" content="Quien Sabe Más - Juega 1 contra 1 respondiendo preguntas de fútbol.">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9579152019412427"
     crossorigin="anonymous"></script>
</head>
<body class="game-body qsm-1v1-body">
    <div class="game-layout">
        <!-- Header Mejorado -->
        <header class="game-header modern-header">
            <div class="container header-container">
                 <a href="games.html" class="logo-link">
                     <h1 class="logo">
                         <span class="logo-text">Crack Total</span>
                         <i class="fas fa-futbol logo-ball"></i> <!-- Ícono después del texto -->
                     </h1>
                 </a>
                 <div class="game-title-header">Quien Sabe Más <span class="game-mode-badge">1v1</span></div>
                 <!-- Info Jugadores (se mostrará cuando estén en juego) -->
                 <div class="players-info-header" id="playersHeaderInfo" style="display: none;">
                     <div class="player-box local-player" id="player1Info">
                         <span class="player-avatar">
                             <i class="fas fa-user"></i>
                         </span>
                         <span class="player-details">
                             <span class="player-name" id="player1Name">Jugador 1</span>
                             <span class="score" id="player1Score">Score: 0</span>
                         </span>
                     </div>
                     <span class="vs-separator">VS</span>
                     <div class="player-box opponent-player" id="player2Info">
                         <span class="player-avatar">
                              <i class="fas fa-user-secret"></i>
                         </span>
                         <span class="player-details">
                            <span class="player-name" id="player2Name">Jugador 2</span>
                            <span class="score" id="player2Score">Score: 0</span>
                        </span>
                     </div>
                 </div>
            </div>
        </header>

        <!-- Lobby Reestructurado -->
        <section id="lobbySection" class="lobby-container active">
            <div class="container lobby-container-inner">
                <h2 class="lobby-title">Lobby <i class="fas fa-door-open"></i></h2>
                <p class="lobby-subtitle">Crea una sala o únete a una existente</p>

                <div id="lobbyMessageArea" class="lobby-message"></div>

                <div class="lobby-grid">
                    <!-- Columna Izquierda: Crear y Unirse Específico/Aleatorio -->
                    <div class="lobby-column lobby-actions-column">
                        <!-- Card Crear Sala -->
                        <div class="lobby-card create-room-card">
                            <h3><i class="fas fa-plus-circle"></i> Crear Sala Nueva</h3>
                            <div class="form-group">
                                <label for="createPlayerName">Tu Nombre:</label>
                                <input type="text" id="createPlayerName" class="lobby-input" placeholder="Nombre de Jugador" value="Jugador 1">
                            </div>
                            <div class="form-group">
                                <label for="createRoomPassword">Contraseña (Opcional):</label>
                                <input type="password" id="createRoomPassword" class="lobby-input" placeholder="Deja vacío para sala pública">
                            </div>
                            <button id="createRoomButton" class="primary-button lobby-button create-btn">
                                Crear Sala
                            </button>
                        </div>

                        <!-- Card Unirse a Sala -->
                         <div class="lobby-card join-room-card">
                            <h3><i class="fas fa-sign-in-alt"></i> Unirse a Sala</h3>
                             <div class="form-group">
                                <label for="joinPlayerName">Tu Nombre:</label>
                                <input type="text" id="joinPlayerName" class="lobby-input" placeholder="Nombre de Jugador" value="Jugador 2">
                            </div>
                            <div class="join-options">
                                <div class="join-by-id">
                                    <h4>Unirse por ID</h4>
                                    <div class="form-group">
                                        <label for="joinRoomId">ID de Sala:</label>
                                        <input type="text" id="joinRoomId" class="lobby-input" placeholder="Introduce el ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="joinRoomPassword">Contraseña (si aplica):</label>
                                        <input type="password" id="joinRoomPassword" class="lobby-input" placeholder="Contraseña de la sala">
                                    </div>
                                    <button id="joinRoomButton" class="secondary-button lobby-button join-id-btn">
                                        Unirse por ID
                                    </button>
                                </div>
                                <div class="join-random">
                                    <h4><i class="fas fa-random"></i> O unirse a una sala aleatoria</h4>
                                    <button id="joinRandomRoomButton" class="secondary-button lobby-button join-random-btn">
                                        Buscar Sala Aleatoria
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Columna Derecha: Salas Disponibles -->
                    <div class="lobby-column available-rooms-column">
                        <div id="availableRoomsSection" class="lobby-card available-rooms-card">
                            <h3><i class="fas fa-list-ul"></i> Salas Disponibles</h3>
                            <ul id="availableRoomsList" class="rooms-list">
                                <!-- Items generados por JS -->
                                <li class="no-rooms-message">Buscando salas... <i class="fas fa-spinner fa-spin"></i></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contenido Principal del Juego (Inicialmente Oculto) -->
        <main id="gameContentSection" class="game-content qsm-1v1-content" style="display: none;">
            <div class="container game-area">
                <div class="game-status">
                    <span id="gameLevelDisplay">Nivel 1</span> - <span id="questionCounter">Pregunta X/Y</span>
                    <div class="turn-indicator" id="turnIndicator">Turno de: Jugador 1</div>
                </div>

                <div class="question-display-area">
                    <h3 class="qsm-question" id="questionText">Cargando pregunta...</h3>
                </div>

                <div class="answer-area">
                    <div id="level1InputArea" class="answer-input-container active">
                         <form id="answerFormLevel1">
                            <input type="text" id="answerInput" class="qsm-input" placeholder="Escribe tu respuesta aquí..." autocomplete="off" required>
                            <button type="submit" class="primary-button submit-answer-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                Enviar
                            </button>
                         </form>
                    </div>

                    <div id="level2PlusOptionsArea" class="options-container">
                        <div class="options-grid qsm-options-grid" id="optionsContainer">
                            <button class="option" data-index="0"><span class="option-letter">A</span><span class="option-text"></span></button>
                            <button class="option" data-index="1"><span class="option-letter">B</span><span class="option-text"></span></button>
                            <button class="option" data-index="2"><span class="option-letter">C</span><span class="option-text"></span></button>
                            <button class="option" data-index="3"><span class="option-letter">D</span><span class="option-text"></span></button>
                        </div>
                        <div class="action-buttons-qsm">
                             <button id="requestOptionsButton" class="secondary-button request-options-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path><path d="M10.46 10.46 5 19l-1.76-1.76a6 6 0 0 1 8.48-8.48l1.76 1.76Z"></path><path d="m14.58 13.42 5.5-5.5M16 3l5 5"></path></svg>
                                Pedir Opciones
                            </button>
                            <button id="fiftyFiftyButton" class="secondary-button fifty-fifty-btn" disabled>
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 9h.01"></path><path d="M15 15h.01"></path><path d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Z"></path></svg>
                                50/50
                            </button>
                        </div>
                    </div>
                </div>

                <div class="feedback-area" id="feedbackArea">
                </div>

                <div class="waiting-area" id="waitingArea">
                    <p>Esperando al oponente...</p>
                    <div class="spinner"></div>
                </div>

                 <div class="timer-container-qsm" id="timerContainer">
                    <div class="timer-bar-qsm" id="timerBar"></div>
                 </div>

            </div>
        </main>
        
        <footer class="site-footer"> 
            <div class="footer-content">
              <div class="footer-links">
                <a href="index.html"><i class="fas fa-home"></i> Inicio</a>
                <a href="blog.html"><i class="fas fa-blog"></i> Blog</a>
                <a href="contact.html"><i class="fas fa-envelope"></i> Contacto</a>
                <a href="cookies.html"><i class="fas fa-cookie-bite"></i> Cookies</a>
                <a href="privacy.html"><i class="fas fa-lock"></i> Privacidad</a>
                <a href="terms.html"><i class="fas fa-file-contract"></i> Terminos</a>
                <a href="about.html"><i class="fas fa-info-circle"></i> Acerca de</a>
              </div>
              <button class="footer-share-button" onclick="shareSite()"><i class="fas fa-share-alt"></i> Compartir</button>
               <div class="footer-copyright">
                 &copy; 2024 Crack Total. Todos los derechos reservados. 
               </div>
            </div>
        </footer>

        <!-- Modal Fin de Juego Reestructurado para 1v1 -->
        <div class="modal-overlay" id="endGameModal">
            <div class="modal-content result-modal">
                <div class="result-modal-header">
                    <h3 class="modal-title result-title" id="resultTitle">¡Juego Terminado!</h3>
                </div>
                <div class="result-message" id="resultMessage">Calculando resultados...</div>
                <div class="result-stats" id="resultStats">
                    <!-- Stats se llenarán dinámicamente, ej:
                    <div class="stat-item your-score">
                        <span class="stat-label">Tu Puntuación</span>
                        <span class="stat-value" id="finalPlayer1Score">0</span>
                    </div>
                    <div class="stat-item opponent-score">
                        <span class="stat-label">Puntuación Oponente</span>
                        <span class="stat-value" id="finalPlayer2Score">0</span>
                    </div>
                     -->
                </div>
                <div class="result-buttons">
                    <button id="playAgainButtonQSM" class="primary-button play-again-button">
                         <i class="fas fa-redo-alt"></i>
                         Jugar Otra Vez
                    </button>
                    <button id="backToLobbyButtonQSM" class="secondary-button back-lobby-button">
                        <i class="fas fa-arrow-left"></i>
                        Volver al Lobby
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/quiensabemas_1v1.js"></script>
</body>
</html> 
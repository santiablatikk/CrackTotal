<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="CRACK TOTAL - Portal de juegos de fútbol" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#1e293b">
    <title>CRACK TOTAL - Portal de Juegos de Fútbol</title>
    <!-- Preconexiones para mejorar el rendimiento -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Favicon -->
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <!-- Estilos -->
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/footer-styles.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Open Graph tags para compartir en redes sociales -->
    <meta property="og:title" content="CRACK TOTAL - Portal de Juegos de Fútbol">
    <meta property="og:description" content="Juegos de fútbol para poner a prueba tus conocimientos futboleros.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="img/preview.jpg">
    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <style>
      /* Estilos mejorados para el portal */
      .portal-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        perspective: 1000px;
      }
      
      .portal-card {
        width: 100%;
        padding: 40px;
        margin-bottom: 40px;
        background: rgba(15, 23, 42, 0.7);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25), 0 0 30px rgba(66, 153, 225, 0.2) inset;
        transition: box-shadow 0.5s ease;
        border: 1px solid rgba(66, 153, 225, 0.2);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }
      
      .portal-card::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg, 
          rgba(59, 130, 246, 0) 0%, 
          rgba(59, 130, 246, 0.1) 50%, 
          rgba(59, 130, 246, 0) 100%
        );
        transform: rotate(45deg);
        animation: cardShimmer 6s linear infinite;
        z-index: 0;
      }
      
      @keyframes cardShimmer {
        0% { transform: translateX(-100%) rotate(45deg); }
        100% { transform: translateX(100%) rotate(45deg); }
      }
      
      .welcome-section {
        text-align: center;
        position: relative;
        z-index: 1;
      }
      
      .welcome-message h2 {
        font-size: 2.8rem;
        font-weight: 800;
        margin-bottom: 20px;
        background: linear-gradient(135deg, #3490dc, #6574cd, #9f7aea);
        background-size: 200% 200%;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        position: relative;
        letter-spacing: -1px;
        animation: gradientFlow 5s ease infinite;
      }
      
      @keyframes gradientFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      .welcome-message h2::after {
        content: '';
        position: absolute;
        width: 100px;
        height: 4px;
        background: linear-gradient(to right, #3490dc, #6574cd);
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 2px;
        animation: underlineWidth 3s ease-in-out infinite alternate;
      }
      
      @keyframes underlineWidth {
        from { width: 60px; }
        to { width: 120px; }
      }
      
      .welcome-message p {
        font-size: 1.4rem;
        color: #a0aec0;
        margin-bottom: 50px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeUp 0.8s ease 0.3s forwards;
      }
      
      @keyframes fadeUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .game-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        max-width: 900px;
        margin: 0 auto;
        perspective: 1000px;
      }
      
      .game-option {
        display: flex;
        flex-direction: column;
        padding: 30px;
        border-radius: 20px;
        background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.8));
        box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.3);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        text-decoration: none;
        position: relative;
        overflow: hidden;
        border: 2px solid transparent;
        height: 220px;
        justify-content: space-between;
        transform: translateY(30px);
        opacity: 0;
        animation: cardAppear 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      }
      
      .game-option:nth-child(1) {
        animation-delay: 0.4s;
      }
      
      .game-option:nth-child(2) {
        animation-delay: 0.6s;
      }
      
      @keyframes cardAppear {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .game-option::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, #4299e1, #667eea, #9f7aea, #ed64a6);
        z-index: -1;
        border-radius: 18px;
        opacity: 0;
        transition: opacity 0.4s ease;
      }
      
      .game-option:hover {
        transform: translateY(-15px) scale(1.03);
        border-color: rgba(102, 126, 234, 0.5);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5),
                    0 0 15px rgba(102, 126, 234, 0.6);
      }
      
      .game-option:hover::before {
        opacity: 0.15;
      }
      
      .game-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 90px;
        height: 90px;
        border-radius: 50%;
        background: linear-gradient(135deg, #4299e1, #667eea);
        margin: 0 auto 25px;
        position: relative;
        box-shadow: 0 15px 30px -10px rgba(66, 153, 225, 0.5);
        transition: all 0.4s ease;
        z-index: 1;
      }
      
      .game-icon::after {
        content: '';
        position: absolute;
        inset: -5px;
        border-radius: 50%;
        background: conic-gradient(from 0deg, transparent 0%, rgba(102, 126, 234, 0.8) 50%, transparent 100%);
        opacity: 0.5;
        animation: spinAura 3s linear infinite;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      
      @keyframes spinAura {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      .game-option:hover .game-icon::after {
        opacity: 0.8;
      }
      
      .game-option:hover .game-icon {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 20px 40px -10px rgba(102, 126, 234, 0.7);
      }
      
      .game-icon i {
        font-size: 2.5rem;
        color: white;
        filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        transition: all 0.4s ease;
      }
      
      .game-option:hover .game-icon i {
        transform: scale(1.2);
        animation: iconPulse 1.5s infinite alternate ease-in-out;
      }
      
      @keyframes iconPulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.3); }
      }
      
      .game-info {
        text-align: center;
      }
      
      .game-info h3 {
        font-size: 1.6rem;
        font-weight: 700;
        color: white;
        margin-bottom: 10px;
        transition: all 0.3s ease;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      
      .game-option:hover .game-info h3 {
        color: #a5b4fc;
        text-shadow: 0 0 10px rgba(165, 180, 252, 0.5);
      }
      
      .game-info p {
        font-size: 1.1rem;
        color: #a0aec0;
        transition: all 0.3s ease;
      }
      
      .game-option:hover .game-info p {
        color: #e2e8f0;
      }
      
      .game-badge {
        position: absolute;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        font-size: 0.7rem;
        font-weight: 600;
        padding: 5px 10px;
        border-radius: 30px;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 5px 15px rgba(245, 158, 11, 0.5);
        animation: badgePulse 2s infinite alternate;
      }
      
      @keyframes badgePulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.1); }
      }
      
      .coming-soon {
        background: linear-gradient(135deg, #9333ea, #6366f1);
        animation: comingSoonPulse 2s infinite alternate;
      }
      
      @keyframes comingSoonPulse {
        0% { 
          transform: scale(1);
          box-shadow: 0 5px 15px rgba(147, 51, 234, 0.5);
        }
        100% { 
          transform: scale(1.1);
          box-shadow: 0 5px 20px rgba(147, 51, 234, 0.7);
        }
      }
      
      .game-locked {
        pointer-events: none;
        opacity: 0.9;
      }
      
      .game-locked::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 18px;
        background: rgba(15, 23, 42, 0.3);
        backdrop-filter: blur(2px);
        z-index: 2;
      }
      
      .game-locked .game-icon {
        filter: grayscale(0.3);
      }
      
      .lock-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 3;
        color: white;
        font-size: 2rem;
        opacity: 0;
        animation: lockFadeIn 0.3s ease 0.8s forwards;
      }
      
      @keyframes lockFadeIn {
        to { opacity: 0.9; }
      }
      
      /* Animación para el header */
      .app-header {
        animation: headerFadeIn 0.8s ease forwards;
        opacity: 0;
      }
      
      @keyframes headerFadeIn {
        to { opacity: 1; }
      }
      
      /* Mejoras para el título */
      .title-text {
        background-size: 200% 200%;
        animation: titlePulse 2s ease-in-out infinite alternate, gradientFlow 5s ease infinite;
        -webkit-background-clip: text;
        background-clip: text;
      }
      
      /* Welcome Banner */
      .welcome-banner {
        background: rgba(15, 23, 42, 0.7);
        border-radius: 12px;
        padding: 12px 20px;
        margin-bottom: 25px;
        border: 1px solid rgba(102, 126, 234, 0.3);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        justify-content: space-between;
        transform: translateY(20px);
        opacity: 0;
        animation: fadeUp 0.8s ease 0.2s forwards;
      }
      
      .welcome-banner-text {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      
      .welcome-banner-text i {
        font-size: 1.4rem;
        color: #6366f1;
      }
      
      .welcome-banner-text span {
        font-size: 1.1rem;
        font-weight: 500;
        color: #e2e8f0;
      }
      
      .username {
        color: #60a5fa;
        font-weight: 600;
        margin-left: 5px;
        position: relative;
      }
      
      .username::after {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(to right, #60a5fa, #6366f1);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
      }
      
      .welcome-banner:hover .username::after {
        transform: scaleX(1);
      }
      
      .change-name-btn {
        background: rgba(99, 102, 241, 0.2);
        color: #e2e8f0;
        border: none;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      
      .change-name-btn:hover {
        background: rgba(99, 102, 241, 0.4);
        transform: translateY(-2px);
      }
      
      .change-name-btn i {
        font-size: 0.85rem;
      }
      
      /* Modal para cambiar nombre - Adaptado para primera visita */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }
      
      .modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }
      
      .modal-content {
        background: linear-gradient(135deg, #1e293b, #0f172a);
        border-radius: 12px;
        padding: 25px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(102, 126, 234, 0.3);
        transform: translateY(0);
        transition: all 0.3s ease;
      }
      
      .first-visit-modal .modal-content {
        animation: modalBounce 0.5s ease;
      }
      
      @keyframes modalBounce {
        0% { transform: scale(0.8); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
      
      .modal-header {
        margin-bottom: 20px;
        text-align: center;
      }
      
      .modal-header h3 {
        font-size: 1.5rem;
        color: #e2e8f0;
        margin-bottom: 8px;
      }
      
      .modal-body {
        margin-bottom: 25px;
      }
      
      .input-group {
        margin-bottom: 20px;
      }
      
      .input-group label {
        display: block;
        margin-bottom: 8px;
        color: #94a3b8;
        font-size: 0.9rem;
      }
      
      .input-field-custom {
        width: 100%;
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(99, 102, 241, 0.3);
        padding: 12px 15px;
        border-radius: 8px;
        color: #e2e8f0;
        font-size: 1rem;
        transition: all 0.3s ease;
      }
      
      .input-field-custom:focus {
        outline: none;
        border-color: rgba(99, 102, 241, 0.8);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
      }
      
      .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
      }
      
      .modal-btn {
        padding: 10px 18px;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
      }
      
      .modal-btn-cancel {
        background: rgba(148, 163, 184, 0.2);
        color: #e2e8f0;
      }
      
      .modal-btn-cancel:hover {
        background: rgba(148, 163, 184, 0.3);
      }
      
      .modal-btn-save {
        background: linear-gradient(135deg, #6366f1, #4f46e5);
        color: white;
      }
      
      .modal-btn-save:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
      }
      
      /* Mejoras para el footer */
      .policy-footer {
        transform: translateY(20px);
        opacity: 0;
        animation: footerFadeIn 0.8s ease 1s forwards;
      }
      
      @keyframes footerFadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      /* Particles mejoras */
      #particles-js {
        opacity: 0.7;
        animation: particlesFadeIn 2s ease forwards;
      }
      
      @keyframes particlesFadeIn {
        from { opacity: 0; }
        to { opacity: 0.7; }
      }
      
      /* Responsive */
      @media (max-width: 768px) {
        .portal-card {
          padding: 30px 20px;
        }
        
        .welcome-message h2 {
          font-size: 2.2rem;
        }
        
        .welcome-message p {
          font-size: 1.1rem;
          margin-bottom: 30px;
        }
        
        .game-options {
          grid-template-columns: 1fr;
          gap: 20px;
        }
        
        .game-option {
          height: 180px;
          padding: 20px;
        }
        
        .game-icon {
          width: 70px;
          height: 70px;
          margin-bottom: 15px;
        }
        
        .game-icon i {
          font-size: 2rem;
        }
        
        .game-info h3 {
          font-size: 1.3rem;
        }
        
        .game-info p {
          font-size: 0.95rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Partículas de fondo -->
    <div id="particles-js"></div>
    
    <div class="app-container">
      <!-- Header con título principal -->
      <header class="app-header">
        <div class="logo-animation">
          <i class="fas fa-trophy ball-icon bounce"></i>
        </div>
        <h1 class="title-text">CRACK TOTAL</h1>
        <p class="subtitle">¡Demuestra tu conocimiento futbolero!</p>
      </header>

      <div class="portal-container">
        <div class="content-card portal-card">
          <div class="card-section welcome-section">
            <!-- Cartel de bienvenida con el nombre -->
            <div class="welcome-banner">
              <div class="welcome-banner-text">
                <i class="fas fa-user-circle"></i>
                <span>Bienvenido, <span class="username" id="userName">Visitante</span></span>
              </div>
              <button class="change-name-btn" id="changeNameBtn">
                <i class="fas fa-edit"></i> Cambiar nombre
              </button>
            </div>
            
            <div class="welcome-message">
              <h2>Elige tu Juego</h2>
              <p>Pone a prueba tus conocimientos de fútbol con nuestros juegos creados para verdaderos aficionados</p>
            </div>
            
            <div class="game-options">
              <a href="index.html" class="game-option">
                <span class="game-badge">Popular</span>
                <div class="game-icon">
                  <i class="fas fa-futbol"></i>
                </div>
                <div class="game-info">
                  <h3>PASALA CHE</h3>
                  <p>El clásico rosco futbolero con palabras que debes adivinar</p>
                </div>
              </a>
              
              <div class="game-option game-locked">
                <span class="game-badge coming-soon">Próximamente</span>
                <i class="fas fa-lock lock-icon"></i>
                <div class="game-icon">
                  <i class="fas fa-trophy"></i>
                </div>
                <div class="game-info">
                  <h3>¿QUIÉN SABE MÁS?</h3>
                  <p>Compite con tus amigos y demuestra quién es el verdadero crack</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="policy-footer">
        <div class="footer-links-mini">
          <a href="terms.html"><i class="fas fa-file-contract"></i> Términos</a>
          <a href="privacy.html"><i class="fas fa-lock"></i> Privacidad</a>
          <a href="blog.html"><i class="fas fa-blog"></i> Blog</a>
          <a href="cookies.html"><i class="fas fa-cookie-bite"></i> Cookies</a>
          <a href="contact.html"><i class="fas fa-envelope"></i> Contacto</a>
          <a href="about.html"><i class="fas fa-info-circle"></i> Acerca de</a>
        </div>
        <div class="copyright-text">&copy; 2025 PASALA CHE - El Juego del Rosco Futbolero.</div>
        <div class="footer-social-icons">
          <a href="https://www.facebook.com/pasalachee" class="social-icon"><i class="fab fa-facebook-f"></i></a>
          <a href="https://twitter.com/pasalachee" class="social-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://www.instagram.com/pasalachee" class="social-icon"><i class="fab fa-instagram"></i></a>
          <a href="https://www.youtube.com/c/pasalachee" class="social-icon"><i class="fab fa-youtube"></i></a>
        </div>
      </footer>
    </div>

    <!-- Toast para notificaciones -->
    <div id="notification" class="toast" style="display: none;"></div>
    
    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-consent" style="display: none;">
      <p>Utilizamos cookies para mejorar tu experiencia en nuestra web. Al continuar navegando, aceptas nuestra <a href="cookies.html">política de cookies</a>.</p>
      <div class="cookie-consent-buttons">
        <button class="cookie-btn cookie-accept">Aceptar</button>
        <button class="cookie-btn cookie-decline">Rechazar</button>
      </div>
    </div>
    
    <!-- Modal para cambiar nombre -->
    <div class="modal-overlay" id="changeNameModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Cambiar tu nombre</h3>
          <p>Personaliza cómo quieres que te llamemos</p>
        </div>
        <div class="modal-body">
          <div class="input-group">
            <label for="newUserName">Tu nombre</label>
            <input type="text" id="newUserName" class="input-field-custom" placeholder="Ingresa tu nombre" maxlength="20">
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn modal-btn-cancel" id="cancelNameChange">Cancelar</button>
          <button class="modal-btn modal-btn-save" id="saveNameChange">Guardar</button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="js/particles-config.js"></script>
    <script>
      // Script para manejar las cookies
      document.addEventListener('DOMContentLoaded', function() {
        // Configurar particles.js
        if (document.getElementById('particles-js')) {
          particlesJS('particles-js', particlesConfig);
        }
        
        // Verificar consentimiento de cookies
        if (!localStorage.getItem('cookieConsent')) {
          const cookieConsent = document.getElementById('cookieConsent');
          if (cookieConsent) {
            cookieConsent.style.display = 'block';
            
            const acceptBtn = document.querySelector('.cookie-accept');
            const declineBtn = document.querySelector('.cookie-decline');
            
            if (acceptBtn) {
              acceptBtn.addEventListener('click', function() {
                localStorage.setItem('cookieConsent', 'accepted');
                cookieConsent.style.display = 'none';
              });
            }
            
            if (declineBtn) {
              declineBtn.addEventListener('click', function() {
                localStorage.setItem('cookieConsent', 'declined');
                cookieConsent.style.display = 'none';
              });
            }
          }
        }
        
        // Manejo del nombre del usuario
        const userNameElement = document.getElementById('userName');
        const changeNameBtn = document.getElementById('changeNameBtn');
        const changeNameModal = document.getElementById('changeNameModal');
        const newUserNameInput = document.getElementById('newUserName');
        const saveNameChange = document.getElementById('saveNameChange');
        const cancelNameChange = document.getElementById('cancelNameChange');
        
        // Comprobar si es la primera visita
        const checkFirstVisit = function() {
          if (!localStorage.getItem('userName')) {
            // Es la primera visita
            changeNameModal.classList.add('active', 'first-visit-modal');
            newUserNameInput.focus();
            
            // Cambiar el texto del encabezado para primera visita
            const modalHeader = changeNameModal.querySelector('.modal-header h3');
            if (modalHeader) {
              modalHeader.textContent = '¡Bienvenido a CRACK TOTAL!';
            }
            
            const modalDesc = changeNameModal.querySelector('.modal-header p');
            if (modalDesc) {
              modalDesc.textContent = 'Para comenzar, dinos cómo quieres que te llamemos';
            }
            
            // Ocultar el botón de cancelar en primera visita
            if (cancelNameChange) {
              cancelNameChange.style.display = 'none';
            }
          }
        };
        
        // Cargar nombre si existe
        if (localStorage.getItem('userName')) {
          userNameElement.textContent = localStorage.getItem('userName');
        }
        
        // Ejecutar comprobación de primera visita
        checkFirstVisit();
        
        // Abrir modal para cambiar nombre
        changeNameBtn.addEventListener('click', function() {
          changeNameModal.classList.add('active');
          changeNameModal.classList.remove('first-visit-modal');
          
          // Restablecer el texto predeterminado
          const modalHeader = changeNameModal.querySelector('.modal-header h3');
          if (modalHeader) {
            modalHeader.textContent = 'Cambiar tu nombre';
          }
          
          const modalDesc = changeNameModal.querySelector('.modal-header p');
          if (modalDesc) {
            modalDesc.textContent = 'Personaliza cómo quieres que te llamemos';
          }
          
          // Mostrar el botón de cancelar 
          if (cancelNameChange) {
            cancelNameChange.style.display = 'block';
          }
          
          newUserNameInput.value = userNameElement.textContent;
          newUserNameInput.focus();
        });
        
        // Cerrar modal
        cancelNameChange.addEventListener('click', function() {
          // Solo permitir cerrar si no es primera visita
          if (!changeNameModal.classList.contains('first-visit-modal')) {
            changeNameModal.classList.remove('active');
          }
        });
        
        // Guardar el nuevo nombre
        saveNameChange.addEventListener('click', function() {
          const newName = newUserNameInput.value.trim();
          if (newName) {
            userNameElement.textContent = newName;
            localStorage.setItem('userName', newName);
            changeNameModal.classList.remove('active', 'first-visit-modal');
            
            // Mostrar notificación de éxito
            const notification = document.getElementById('notification');
            
            if (changeNameModal.classList.contains('first-visit-modal')) {
              notification.textContent = '¡Bienvenido ' + newName + '!';
            } else {
              notification.textContent = '¡Nombre actualizado correctamente!';
            }
            
            notification.style.display = 'block';
            notification.classList.add('success');
            
            setTimeout(function() {
              notification.style.display = 'none';
              notification.classList.remove('success');
            }, 3000);
          } else {
            // No permitir cerrar el modal en primera visita si no hay nombre
            if (changeNameModal.classList.contains('first-visit-modal')) {
              alert('Por favor, ingresa tu nombre para continuar');
              newUserNameInput.focus();
            }
          }
        });
        
        // Cerrar modal al hacer clic fuera (solo si no es primera visita)
        changeNameModal.addEventListener('click', function(e) {
          if (e.target === changeNameModal && !changeNameModal.classList.contains('first-visit-modal')) {
            changeNameModal.classList.remove('active');
          }
        });
        
        // Permitir cerrar modal con ESC (solo si no es primera visita)
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && changeNameModal.classList.contains('active') && !changeNameModal.classList.contains('first-visit-modal')) {
            changeNameModal.classList.remove('active');
          }
        });
        
        // Guardar nombre con Enter
        newUserNameInput.addEventListener('keydown', function(e) {
          if (e.key === 'Enter') {
            saveNameChange.click();
          }
        });
        
        // Inicializar animación del ícono
        const iconElement = document.querySelector('.ball-icon');
        function animateIcon() {
          iconElement.classList.add('animate-bounce');
          setTimeout(() => {
            iconElement.classList.remove('animate-bounce');
            setTimeout(animateIcon, 3000);
          }, 1000);
        }
        animateIcon();

        // Efecto de iluminación al pasar el mouse por los juegos
        const gameOptions = document.querySelectorAll('.game-option:not(.game-locked)');
        gameOptions.forEach(option => {
          option.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            this.style.setProperty('--x', `${x}px`);
            this.style.setProperty('--y', `${y}px`);
          });
        });
      });
    </script>
  </body>
</html>
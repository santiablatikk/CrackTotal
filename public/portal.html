<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Portal de juegos de CRACK TOTAL. Accede a nuestros juegos de fútbol y pon a prueba tus conocimientos." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#0f172a">
    <meta name="google-adsense-account" content="ca-pub-9579152019412427">
    <title>Portal de Juegos - CRACK TOTAL</title>
    <!-- Preconexiones -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Favicon -->
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <!-- Estilos -->
    <link rel="stylesheet" href="css/styles.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Open Graph -->
    <meta property="og:title" content="CRACK TOTAL - Portal de Juegos de Fútbol">
    <meta property="og:description" content="Juegos de fútbol para poner a prueba tus conocimientos futboleros.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="img/preview.jpg">
    <!-- Google AdSense Verification Code -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9579152019412427" crossorigin="anonymous"></script>
  </head>
  <body>
    <!-- Partículas de fondo -->
    <div id="particles-js"></div>
    
    <div class="app-container">
      <!-- Header con título principal -->
      <header class="app-header">
        <a href="portal.html" class="title-link" style="text-decoration: none;">
          <h1 class="title-text">CRACK TOTAL</h1>
        </a>
        <p class="subtitle">Elige tu desafío y demuestra quién es el verdadero crack</p>
        <div class="header-actions">
        <button id="change-name-btn" class="change-name-btn">
          <i class="fas fa-user-edit"></i> Cambiar Nombre
        </button>
          <button id="theme-toggle-btn" class="theme-toggle-btn">
            <i class="fas fa-moon"></i>
          </button>
        </div>
      </header>

      <div class="portal-container">
        <div class="content-card portal-card">
          <div class="welcome-banner">
            <div class="welcome-avatar">
              <i class="fas fa-user-circle"></i>
            </div>
            <div class="welcome-message">
              <h2>Hola, <span id="player-name-display">Jugador</span></h2>
              <p>Selecciona tu juego favorito</p>
            </div>
          </div>

          <div class="games-showcase">
            <div class="section-header">
              <div class="section-header-icon">
                <i class="fas fa-gamepad"></i>
              </div>
              <h2 class="section-title">Nuestros Juegos</h2>
            </div>
            
            <div class="game-options">
              <a href="game-rosco.html" class="game-option featured">
                <div class="game-card-content">
                  <div class="game-icon-wrapper">
                    <div class="game-icon">
                      <i class="fas fa-futbol"></i>
                    </div>
                  </div>
                  <div class="game-info">
                    <h3>PASALA CHE</h3>
                    <p>El clásico rosco futbolero. ¿Podrás completarlo?</p>
                    <div class="game-meta">
                      <span class="game-badge popular">Popular</span>
                      <span class="game-rating"><i class="fas fa-star"></i> 4.9</span>
                      <span class="game-players"><i class="fas fa-users"></i> 10k+</span>
                    </div>
                  </div>
                </div>
                <div class="game-action">
                  <span class="play-btn">JUGAR AHORA <i class="fas fa-arrow-right"></i></span>
                </div>
              </a>
              
              <a href="millonario/index.html" class="game-option new-game">
                <div class="game-card-content">
                  <div class="game-icon-wrapper">
                    <div class="game-icon">
                      <i class="fas fa-trophy"></i>
                    </div>
                  </div>
                  <div class="game-info">
                    <h3>¿QUIÉN SABE MÁS?</h3>
                    <p>Preguntas de opción múltiple para verdaderos expertos.</p>
                    <div class="game-meta">
                      <span class="game-badge new">Nuevo</span>
                      <span class="game-rating"><i class="fas fa-star"></i> 4.8</span>
                      <span class="game-players"><i class="fas fa-users"></i> 5k+</span>
                    </div>
                  </div>
                </div>
                <div class="game-action">
                  <span class="play-btn">JUGAR AHORA <i class="fas fa-arrow-right"></i></span>
                </div>
              </a>
            </div>
            
            <style>
              /* Estilos mejorados para dar más presencia a los juegos */
              .games-showcase {
                padding: 2rem 0;
                margin-bottom: 2rem;
              }
              
              .section-header {
                margin-bottom: 2rem;
              }
              
              .section-title {
                font-size: 2.2rem;
                text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
              }
              
              .game-options {
                display: grid;
                grid-template-columns: 1fr;
                gap: 2rem;
              }
              
              @media (min-width: 768px) {
                .game-options {
                  grid-template-columns: repeat(2, 1fr);
                }
              }
              
              .game-option {
                transform: scale(1);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
                border-radius: 16px;
                overflow: hidden;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
                height: 100%;
                min-height: 280px;
                display: flex;
                flex-direction: column;
                background: linear-gradient(135deg, #1e293b, #0f172a);
                padding: 1.5rem;
              }
              
              .game-option:hover {
                transform: translateY(-10px) scale(1.02);
                box-shadow: 0 20px 30px rgba(0, 0, 0, 0.15);
              }
              
              .game-card-content {
                flex: 1;
                margin-bottom: 1.5rem;
              }
              
              .game-action {
                margin-top: auto;
                padding: 1.2rem;
                background: linear-gradient(135deg, #4338ca, #3730a3);
                border-radius: 12px;
                text-align: center;
                transition: all 0.3s ease;
              }
              
              .game-action:hover {
                background: linear-gradient(135deg, #4f46e5, #4338ca);
                transform: translateY(-3px);
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
              }
              
              .play-btn {
                font-size: 1.3rem;
                font-weight: 700;
                letter-spacing: 0.5px;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
              }
              
              .play-btn i {
                font-size: 1.2rem;
                transition: transform 0.3s ease;
              }
              
              .game-option:hover .play-btn i {
                transform: translateX(5px);
              }
              
              .game-info {
                flex: 1;
              }
              
              .game-info h3 {
                font-size: 2.5rem;
                margin-bottom: 0.5rem;
                color: white;
                font-weight: 800;
                text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
                letter-spacing: -0.5px;
              }
              
              .game-info p {
                font-size: 1.3rem;
                color: rgba(255, 255, 255, 0.9);
                margin-bottom: 1rem;
                line-height: 1.4;
              }
              
              .game-meta {
                display: flex;
                align-items: center;
                gap: 0.8rem;
                flex-wrap: wrap;
              }
              
              .game-badge {
                padding: 0.3rem 0.7rem;
                border-radius: 20px;
                font-size: 0.9rem;
                font-weight: 600;
                text-transform: uppercase;
              }
              
              .game-badge.popular {
                background: linear-gradient(135deg, #e11d48, #be123c);
                color: white;
              }
              
              .game-badge.new {
                background: linear-gradient(135deg, #0ea5e9, #0284c7);
                color: white;
              }
              
              .game-rating, .game-players {
                display: flex;
                align-items: center;
                gap: 0.3rem;
                color: rgba(255, 255, 255, 0.8);
                font-size: 1rem;
              }
            </style>
          </div>
          
          <div class="news-section">
            <h3 class="news-title"><i class="fas fa-bullhorn"></i> Novedades</h3>
            <div class="news-item">
              <div class="news-icon"><i class="fas fa-newspaper"></i></div>
              <div class="news-content">
                <h4>¡Nuevo modo de juego disponible!</h4>
                <p>Descubre el nuevo desafío en "¿Quién sabe más?"</p>
                <a href="blog-detail-quiensabe.html" class="news-link">Leer más <i class="fas fa-arrow-right"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="policy-footer">
  <div class="footer-links-mini">
    <a href="terms.html"><i class="fas fa-file-contract"></i> Términos</a>
    <a href="privacy.html"><i class="fas fa-lock"></i> Privacidad</a>
    <a href="blog.html"><i class="fas fa-blog"></i> Blog</a>
    <a href="cookies.html"><i class="fas fa-cookie-bite"></i> Cookies</a>
    <a href="contact.html"><i class="fas fa-envelope"></i> Contacto</a>
    <a href="about.html"><i class="fas fa-info-circle"></i> Acerca de</a>
          <a href="logros.html"><i class="fas fa-medal"></i> Logros</a>
  </div>
  <div class="share-button-container">
    <button id="share-button" class="share-button"><i class="fas fa-share-alt"></i> Compartir</button>
  </div>
        <div class="copyright-text">&copy; 2025 CRACK TOTAL - Juegos de Fútbol</div>
  <div class="footer-social-icons">
          <a href="https://www.facebook.com/cracktotal" target="_blank" rel="noopener" class="social-icon"><i class="fab fa-facebook-f"></i></a>
          <a href="https://twitter.com/cracktotal" target="_blank" rel="noopener" class="social-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://www.instagram.com/cracktotal" target="_blank" rel="noopener" class="social-icon"><i class="fab fa-instagram"></i></a>
          <a href="https://www.youtube.com/c/cracktotal" target="_blank" rel="noopener" class="social-icon"><i class="fab fa-youtube"></i></a>
  </div>
</footer>
    </div>

<!-- Banner de Consentimiento de Cookies -->
<div id="cookie-consent-banner" class="cookie-banner">
  <div class="cookie-content">
    <div class="cookie-text">
      <h3><i class="fas fa-cookie-bite"></i> Uso de Cookies</h3>
      <p>Este sitio utiliza cookies para mejorar tu experiencia, mostrar anuncios personalizados y analizar el tráfico. Al hacer clic en "Aceptar", aceptas nuestro uso de cookies.</p>
    </div>
    <div class="cookie-buttons">
      <a href="cookies.html" class="cookie-more-info">Más información</a>
      <button id="accept-cookies-btn" class="accept-cookies">Aceptar</button>
    </div>
  </div>
</div>

<style>
  .cookie-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #1e293b, #0f172a);
    border-top: 3px solid #4f46e5;
    z-index: 1000;
    padding: 15px;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
    transform: translateY(100%);
    transition: transform 0.4s ease-in-out;
  }
  
  .cookie-banner.show {
    transform: translateY(0);
  }
  
  .cookie-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }
  
  .cookie-text {
    flex: 1;
    min-width: 280px;
    padding-right: 20px;
  }
  
  .cookie-text h3 {
    color: white;
    font-size: 1.2rem;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .cookie-text p {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.5;
  }
  
  .cookie-buttons {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-top: 10px;
  }
  
  .cookie-more-info {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: underline;
    font-size: 0.9rem;
    transition: color 0.3s;
  }
  
  .cookie-more-info:hover {
    color: white;
  }
  
  .accept-cookies {
    background: linear-gradient(135deg, #4f46e5, #3730a3);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 0.9rem;
  }
  
  .accept-cookies:hover {
    background: linear-gradient(135deg, #4338ca, #312e81);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
  }
  
  @media (max-width: 768px) {
    .cookie-content {
      flex-direction: column;
      align-items: stretch;
    }
    
    .cookie-text {
      padding-right: 0;
      margin-bottom: 15px;
    }
    
    .cookie-buttons {
      justify-content: space-between;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const playerName = localStorage.getItem('playerName');
    const playerNameDisplay = document.getElementById('player-name-display');
    const nameInputModal = document.getElementById('name-input-modal');

    function showNameInputModal(show = true) {
        let modal = document.getElementById('name-input-modal');
        if (!modal) {
            modal = document.createElement('div');
            modal.id = 'name-input-modal';
            modal.className = 'name-input-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h2><i class="fas fa-user-circle"></i> ¡Bienvenido a CRACK TOTAL!</h2>
                    <p>Ingresa tu nombre para guardar tu progreso:</p>
                    <form id="name-form">
                    <input type="text" id="player-name-input" placeholder="Tu nombre aquí" maxlength="20" required autocomplete="off">
                    <button type="submit" class="btn-primary">
                        <span>¡Jugar!</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    </form>
                </div>
            `;
            document.body.appendChild(modal);

            const form = document.getElementById('name-form');
            if (form) {
                form.addEventListener('submit', handleNameSubmit);
            }
        }

        if (show) {
            requestAnimationFrame(() => {
                modal.classList.add('visible');
                const input = document.getElementById('player-name-input');
                if (input) input.focus();
            });
        } else {
            modal.classList.remove('visible');
        }
    }

    function handleNameSubmit(event) {
        event.preventDefault();
        const input = document.getElementById('player-name-input');
        const name = input.value.trim();

        if (name) {
            localStorage.setItem('playerName', name);
            if (playerNameDisplay) {
                playerNameDisplay.textContent = name;
}
            showNameInputModal(false);
            showNotification('¡Bienvenido, ' + name + '!', 'success');

            if (window.GameData && typeof window.GameData.initUserData === 'function') {
                window.GameData.initUserData(name);
                loadPlayerStats();
            }
        } else {
            showNotification('Por favor, ingresa un nombre válido.', 'error');
        }
    }

if (!playerName && playerNameDisplay) {
        showNameInputModal(true);
} else if (playerNameDisplay) {
  playerNameDisplay.textContent = playerName || 'Jugador';
  }
  
loadPlayerStats();

const changeNameBtn = document.getElementById('change-name-btn');
  if (changeNameBtn) {
          changeNameBtn.addEventListener('click', () => showNameInputModal(true));
}

const themeToggleBtn = document.getElementById('theme-toggle-btn');
if (themeToggleBtn) {
  themeToggleBtn.addEventListener('click', function() {
    document.body.classList.toggle('dark-mode');
    const icon = themeToggleBtn.querySelector('i');
              const isDarkMode = document.body.classList.contains('dark-mode');
              if (isDarkMode) {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
      } else {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
    }
      localStorage.setItem('darkMode', isDarkMode ? 'true' : 'false');
    });
    
    const savedDarkMode = localStorage.getItem('darkMode') === 'true';
    if (savedDarkMode) {
      document.body.classList.add('dark-mode');
                themeToggleBtn.querySelector('i').classList.replace('fa-moon', 'fa-sun');
            }
        }

function loadPlayerStats() {
  // Esta función ahora solo maneja la bandera gameJustCompleted
  // sin actualizar elementos de estadísticas que ya no existen en la UI
  if (localStorage.getItem('gameJustCompleted') === 'true') {
    localStorage.removeItem('gameJustCompleted');
  }
}

if (localStorage.getItem('gameJustCompleted') === 'true') {
  loadPlayerStats();
}

const isMobile = window.innerWidth < 768;
      if (typeof particlesJS !== 'undefined' && !isMobile) {
  particlesJS('particles-js', {
    particles: {
      number: {
                      value: 30,
        density: {
          enable: true,
                          value_area: 800
        }
      },
      color: {
                      value: '#3b82f6'
      },
      shape: {
                      type: 'circle'
      },
      opacity: {
                      value: 0.15,
                      random: true
      },
      size: {
        value: 3,
                      random: true
      },
      line_linked: {
        enable: true,
                      distance: 160,
                      color: '#3b82f6',
                      opacity: 0.1,
        width: 1
      },
      move: {
        enable: true,
                      speed: 0.8,
        direction: 'none',
        random: true,
        straight: false,
                      out_mode: 'out'
      }
    },
    interactivity: {
      detect_on: 'canvas',
      events: {
        onhover: {
                          enable: false
        },
        onclick: {
                          enable: false
        },
        resize: true
      }
    },
              retina_detect: true
  });
      } else {
        const particlesElement = document.getElementById('particles-js');
        if (particlesElement) {
          particlesElement.style.display = 'none';
        }
  }

  // Función para el banner de cookies
  const cookieBanner = document.getElementById('cookie-consent-banner');
  const acceptCookiesBtn = document.getElementById('accept-cookies-btn');
  
  // Verificar si ya se aceptaron las cookies
  if (!localStorage.getItem('cookiesAccepted')) {
    // Mostrar el banner con un pequeño retraso
    setTimeout(() => {
      cookieBanner.classList.add('show');
    }, 1000);
  }
  
  // Manejar el clic en el botón de aceptar
  acceptCookiesBtn.addEventListener('click', function() {
    localStorage.setItem('cookiesAccepted', 'true');
    cookieBanner.classList.remove('show');
    
    // Opcional: Cargar scripts de tracking que dependen del consentimiento
    // loadTrackingScripts();
  });
});
</script>

    <!-- Scripts moved to the end -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="utils/notifications.js"></script>
    <script src="js/game-data.js"></script>
    <script src="js/global-footer.js"></script>
</body>
</html> 

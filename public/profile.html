<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Perfil de Usuario - PASALA CHE">
    <meta name="viewport" content="width=1024, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-9579152019412427">
    <title>Tu Perfil - PASALA CHE (Versión Escritorio)</title>
    <link rel="stylesheet" href="css/profile-styles.css">
    <link rel="stylesheet" href="css/footer-styles.css">
    <link rel="stylesheet" href="css/combined.css">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9579152019412427"
     crossorigin="anonymous"></script>
    <style>
    /* Estilos inline para resolver problemas MIME */
    .profile-ranking-styles {
        /* Estilos del archivo profile-ranking-styles.css */
        margin: 0;
        padding: 0;
    }
    .rosco-styles {
        /* Estilos del archivo rosco-styles.css */
        margin: 0;
        padding: 0;
    }
    </style>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Link Wrapper -->
    <a href="pasalache.html" class="app-header-link">
        <header class="app-header">
            <div class="logo-animation"> 
                <i class="fas fa-user-astronaut ball-icon"></i> 
            </div>
            <h1 class="title-text">Tu Perfil Futbolero</h1>
            <p class="subtitle">Estadísticas y Logros en PASALA CHE</p>
        </header>
    </a>

    <!-- Main Profile Page Container -->
    <div class="profile-page">
        <div class="profile-container">
            
            <!-- IP Detection Status -->
            <div id="ip-status" class="ip-status">
                <i class="fas fa-shield-alt"></i> 
                <span id="ip-address-display">Detectando tu identidad...</span>
                <div class="sync-status-indicator">
                    <i class="fas fa-sync-alt fa-spin"></i>
                </div>
            </div>
            
            <!-- Error Message Area -->
            <div id="profile-error" style="display: none;"></div>

            <!-- Loading Indicator Area -->
            <div id="loading-indicator">
                <div class="wave-loader">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <p>Cargando tu perfil personal...</p>
            </div>

            <!-- Main Profile Content Grid -->
            <div class="profile-grid" id="profile-grid-content" style="display: none;"> 
                
                <!-- Left Sidebar: Identity -->
                <aside class="profile-sidebar">
                    <div class="profile-card-condensed">
                        <div class="avatar-border-effect">
                            <div class="profile-avatar-large">
                                <i class="fas fa-user"></i> 
                            </div>
                        </div>
                        <h2 class="profile-name-large" id="profile-username">Cargando...</h2>
                        <div class="profile-status-badge">
                            <span id="rank-badge"><i class="fas fa-spinner fa-spin"></i></span> 
                            <span id="profile-status">Cargando Rango...</span>
                        </div>
                        <div class="profile-last-played">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="last-played-date">Nunca has jugado</span>
                        </div>
                        
                        <div class="sidebar-stats-container">
                            <div class="sidebar-stat">
                                <span class="sidebar-stat-label">Mejor Puntuación</span>
                                <span class="sidebar-stat-value" id="sidebar-best-score">0</span>
                            </div>
                            <div class="sidebar-stat">
                                <span class="sidebar-stat-label">Partidas Jugadas</span>
                                <span class="sidebar-stat-value" id="sidebar-games-played">0</span>
                            </div>
                            <div class="sidebar-stat">
                                <span class="sidebar-stat-label">Posición Ranking</span>
                                <span class="sidebar-stat-value" id="sidebar-ranking-position">-</span>
                            </div>
                        </div>
                        
                        <a href="ranking.html" class="view-ranking-btn-sidebar">
                            <i class="fas fa-trophy"></i> Ver Ranking Completo
                        </a>
                    </div>
                    
                    <div class="data-sync-info">
                        <div class="sync-icon-container">
                            <i class="fas fa-sync"></i>
                        </div>
                        <span>Datos sincronizados a tu IP</span>
                        <div id="last-sync-time" class="last-sync"></div>
                    </div>
                    
                    <!-- Quick Access Navigation -->
                    <div class="quick-access-nav">
                        <h3>Navegación Rápida</h3>
                        <ul>
                            <li><a href="#stats-section"><i class="fas fa-chart-line"></i> Estadísticas</a></li>
                            <li><a href="#history-section"><i class="fas fa-history"></i> Historial</a></li>
                            <li><a href="#achievements-section"><i class="fas fa-award"></i> Logros</a></li>
                            <li><a href="#profile-settings"><i class="fas fa-cog"></i> Ajustes</a></li>
                        </ul>
                    </div>
                </aside>

                <!-- Right Main Area: Stats, History, Achievements -->
                <main class="profile-main">
                    
                    <!-- Game Statistics Section -->
                    <section id="stats-section" class="profile-section game-stats-section">
                        <h3 class="section-title"><i class="fas fa-chart-line"></i> Estadísticas Personales</h3>
                        
                        <div class="stats-highlights">
                            <div class="highlight-stat">
                                <div class="highlight-value" id="highlight-win-rate">0%</div>
                                <div class="highlight-label">Tasa de Victoria</div>
                                <div class="circular-progress" data-value="0">
                                    <svg class="progress-ring" width="120" height="120">
                                        <circle class="progress-ring-circle-bg" stroke-width="8" fill="transparent" r="50" cx="60" cy="60"/>
                                        <circle class="progress-ring-circle" stroke-width="8" fill="transparent" r="50" cx="60" cy="60"/>
                                    </svg>
                                    <div class="progress-text"></div>
                                </div>
                            </div>
                            
                            <div class="highlight-stat">
                                <div class="highlight-value" id="highlight-accuracy">0%</div>
                                <div class="highlight-label">Precisión</div>
                                <div class="circular-progress" data-value="0">
                                    <svg class="progress-ring" width="120" height="120">
                                        <circle class="progress-ring-circle-bg" stroke-width="8" fill="transparent" r="50" cx="60" cy="60"/>
                                        <circle class="progress-ring-circle" stroke-width="8" fill="transparent" r="50" cx="60" cy="60"/>
                                    </svg>
                                    <div class="progress-text"></div>
                                </div>
                            </div>
                            
                            <div class="highlight-stat">
                                <div class="highlight-value" id="highlight-best-score">0</div>
                                <div class="highlight-label">Mejor Puntuación</div>
                                <div class="score-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-gamepad"></i></div>
                                <div class="stat-value" id="stat-games-played">0</div>
                                <div class="stat-label">Partidas Jugadas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-trophy"></i></div>
                                <div class="stat-value" id="stat-victories">0</div>
                                <div class="stat-label">Victorias</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-times-circle"></i></div>
                                <div class="stat-value" id="stat-defeats">0</div>
                                <div class="stat-label">Derrotas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-percentage"></i></div>
                                <div class="stat-value" id="stat-win-rate">0%</div>
                                <div class="stat-label">Ratio Victorias</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-star"></i></div>
                                <div class="stat-value" id="stat-best-score">0</div>
                                <div class="stat-label">Mejor Puntuación</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-calculator"></i></div>
                                <div class="stat-value" id="stat-avg-score">0</div>
                                <div class="stat-label">Puntuación Media</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                                <div class="stat-value" id="stat-correct">0</div>
                                <div class="stat-label">Correctas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-minus-circle"></i></div>
                                <div class="stat-value" id="stat-wrong">0</div>
                                <div class="stat-label">Incorrectas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-forward"></i></div>
                                <div class="stat-value" id="stat-skipped">0</div>
                                <div class="stat-label">Saltadas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-bullseye"></i></div>
                                <div class="stat-value" id="stat-accuracy">0%</div>
                                <div class="stat-label">Precisión</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-stopwatch-20"></i></div>
                                <div class="stat-value" id="stat-avg-time">0s</div>
                                <div class="stat-label">Tiempo Medio / Partida</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon"><i class="fas fa-clock"></i></div>
                                <div class="stat-value" id="stat-total-time">0m 0s</div>
                                <div class="stat-label">Tiempo Total Jugado</div>
                            </div>
                        </div>
                    </section>

                    <!-- Game History Section -->
                    <section id="history-section" class="profile-section game-history-section">
                        <h3 class="section-title"><i class="fas fa-history"></i> Historial de Partidas Recientes</h3>
                        
                        <div class="section-actions">
                            <div class="section-filter">
                                <select id="history-filter" class="filter-select">
                                    <option value="all">Todas las partidas</option>
                                    <option value="victories">Solo victorias</option>
                                    <option value="defeats">Solo derrotas</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="game-history-container" id="game-history-list">
                            <!-- Entries will be loaded here by JS -->
                             <div class="placeholder-message" id="history-placeholder">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Cargando historial...</p>
                            </div>
                        </div>
                        
                        <div class="empty-state" style="display: none;">
                            <div class="empty-state-icon">
                                <i class="fas fa-folder-open"></i>
                            </div>
                            <h4>No hay partidas en tu historial</h4>
                            <p>¡Juega tu primera partida para empezar a acumular estadísticas!</p>
                            <a href="pasalache.html" class="empty-state-action">
                                <i class="fas fa-play-circle"></i> Jugar Ahora
                            </a>
                        </div>
                    </section>
                    
                    <!-- Achievements Section -->
                    <section id="achievements-section" class="profile-section achievements-section">
                        <div class="section-header">
                            <h3 class="section-title"><i class="fas fa-award"></i> Tus Logros</h3>
                            <a href="logros.html" class="view-all-btn">
                                <i class="fas fa-list-ul"></i> Ver Todos
                            </a>
                        </div>
                         
                        <div class="achievements-progress">
                            <div class="achievements-summary">
                                <div class="achievement-count-display">
                                    <span class="achievements-count-value" id="achievements-unlocked-count">0</span>
                                    <span class="achievements-count-separator">/</span>
                                    <span class="achievements-count-value" id="achievements-total-count">0</span>
                                </div>
                                <div class="achievements-text">Logros Desbloqueados</div> 
                            </div>
                            <div class="achievements-progress-bar">
                                <div class="achievements-progress-fill" id="achievements-completed" style="width: 0%"></div> 
                            </div>
                        </div>
                        
                        <div class="achievements-container" id="achievements-list">
                            <!-- Achievement cards will be loaded here by JS -->
                            <div class="placeholder-message" id="achievements-placeholder">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Cargando logros...</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Profile Management Section (new) -->
                    <section id="profile-settings" class="profile-section profile-management-section">
                        <h3 class="section-title"><i class="fas fa-cog"></i> Gestión de Perfil</h3>
                        
                        <div class="profile-management-options">
                            <div class="management-option">
                                <div class="option-header">
                                    <h4><i class="fas fa-signature"></i> Cambiar Nombre</h4>
                                    <p class="option-description">Elige un nombre para personalizar tu perfil y aparecer en el ranking.</p>
                                </div>
                                <div class="name-change-controls">
                                    <input type="text" id="new-name-input" placeholder="Introduce tu nuevo nombre" maxlength="20">
                                    <button id="save-name-btn" class="action-button">
                                        <i class="fas fa-save"></i> Guardar
                                    </button>
                                </div>
                            </div>
                            
                            <div class="management-option">
                                <div class="option-header">
                                    <h4><i class="fas fa-trash-alt"></i> Reiniciar Datos</h4>
                                    <p class="option-description">Borra todas tus estadísticas y comienza de nuevo.</p>
                                </div>
                                <p class="warning-text"><i class="fas fa-exclamation-triangle"></i> Esta acción no se puede deshacer. Se borrarán todas tus estadísticas.</p>
                                <button id="reset-profile-btn" class="action-button danger-button">
                                    <i class="fas fa-trash-alt"></i> Reiniciar Perfil
                                </button>
                            </div>
                            
                            <div class="management-option">
                                <div class="option-header">
                                    <h4><i class="fas fa-download"></i> Exportar Datos</h4>
                                    <p class="option-description">Descarga una copia de tus datos de perfil.</p>
                                </div>
                                <button id="export-data-btn" class="action-button secondary-button">
                                    <i class="fas fa-download"></i> Exportar Datos
                                </button>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Call to Action Section -->
                    <section class="profile-section cta-section">
                        <div class="cta-content">
                            <h3><i class="fas fa-gamepad"></i> ¿Listo para mejorar tus estadísticas?</h3>
                            <p>Juega una partida ahora y demuestra tus conocimientos futboleros.</p>
                            <a href="pasalache.html" class="cta-button">
                                <i class="fas fa-play-circle"></i> Jugar Ahora
                            </a>
                        </div>
                    </section>
                </main>
            </div> <!-- /profile-grid -->

        </div> <!-- /profile-container -->
    </div> <!-- /profile-page -->
    
    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Confirmar Acción</h3>
                <span class="modal-close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-icon warning">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <p id="modal-message">¿Estás seguro que deseas continuar?</p>
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="modal-button">Cancelar</button>
                <button id="modal-confirm" class="modal-button confirm-button">Confirmar</button>
            </div>
        </div>
    </div>
    
    <!-- Success Notification -->
    <div id="success-notification" class="notification">
        <div class="notification-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Operación Exitosa</div>
            <div class="notification-message"></div>
        </div>
        <button class="notification-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <!-- Floating Action Button -->
    <button id="play-now-fab" class="floating-action-button">
        <i class="fas fa-play"></i>
        <span class="fab-tooltip">Jugar</span>
    </button>

    <!-- Scripts - IMPORTANTE: logros.js DEBE ir ANTES que profile.js -->
    <script src="js/logros.js" defer></script>
    <script src="js/utils.js" defer></script> 
    <script src="js/profile.js" defer></script>

    <!-- Footer - Standard Site Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="index.html"><i class="fas fa-home"></i> Inicio</a>
                <a href="blog.html"><i class="fas fa-blog"></i> Blog</a>
                <a href="contact.html"><i class="fas fa-envelope"></i> Contacto</a>
                <a href="cookies.html"><i class="fas fa-cookie-bite"></i> Cookies</a>
                <a href="privacy.html"><i class="fas fa-lock"></i> Privacidad</a>
                <a href="terms.html"><i class="fas fa-file-contract"></i> Terminos</a>
            </div>
            <div class="footer-actions">
                 <button id="footer-share-button" class="share-button"><i class="fas fa-share-alt"></i> Compartir</button>
                 <div class="social-icons">
                     <a href="https://www.facebook.com/pasalachee" target="_blank" aria-label="Facebook" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                     <a href="https://twitter.com/pasalachee" target="_blank" aria-label="Twitter" class="social-icon"><i class="fab fa-twitter"></i></a>
                     <a href="https://www.instagram.com/pasalachee" target="_blank" aria-label="Instagram" class="social-icon"><i class="fab fa-instagram"></i></a>
                     <a href="https://www.youtube.com/c/pasalachee" target="_blank" aria-label="YouTube" class="social-icon"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            &copy; 2025 PASALA CHE - El Juego del Rosco Futbolero. Todos los derechos reservados.
        </div>
    </footer>
    <!-- Script for Share Button -->
    <script>
        const shareButton = document.getElementById('footer-share-button');
        if (shareButton && navigator.share) {
            shareButton.addEventListener('click', async () => {
                try {
                    await navigator.share({
                        title: document.title,
                        text: '¡Mira mi perfil en PASALA CHE!',
                        url: window.location.href
                    });
                    console.log('Contenido compartido con éxito');
                } catch (err) {
                    console.error('Error al compartir:', err);
                }
            });
        } else if (shareButton) {
             shareButton.style.display = 'none';
        }
    </script>
</body>
</html> 

</body>
</html> 



</body>
</html> 

</body>
</html> 



</body>
</html> 

</body>
</html> 


